<!--
title: 赛博物理系统CPS和数字孪生介绍
subtitle: 工业软件
author: 网络
keyword: 工业软件
published: 2024-04-222
topicImg: assets/4/CPSDTTT.jpg
-->



# 赛博物理系统CPS和数字孪生介绍

业4.0是基于CPS的工业革命。CPS是把人、机、物物联，实体与虚拟对象双向连接，以虚控实，虚实融合。其理念适用于企业全价值链和能源、交通等系统。能够实现敏捷性和柔性、少人化工厂生产。

CPS是虚实融合。“实”是指人、机、物，而虚是会么呢？如果对“虚”的概念的探讨是本文重点。如果这方面模糊，就会造成对工业4.0的理解不全面。早在10余年前，欧美国家就把“虚”的部分思考清楚了，但是他们不会轻易把其中精髓告诉后发国家。所以，我们务求要把这个问题探讨清楚。

![](assets/4/CPSDTTT1.jpg)

在“虚”的内容里，“数字孪生体（Digital Twin）”非常重要。它原本是美国军方在航天系统的研究当中提出来的，现在已经扩展到多种研发领域。

## 至关重要的数据中心

数字孪生体是实体的虚拟的数字化的映射对象。它是从设计/仿真，延伸到产品全生命周期。CPS内涵中的虚实双向动态连接，有两个步骤，一是虚拟的实体化，如设计一件东西，先进行模拟、仿真，仿真再制作出来；二是实体的虚拟化，实体在使用、运行的过程中，把状态反映到虚拟端去，通过虚拟方式进行判断、分析、预测和优化。

它有如下主要特点。一是机器可读。制造领域技术数据繁多而杂乱，有图纸、BOM、工序、数控程序、设备配合参数，而Digital Twin首要解决的是单一数据源，做到数控机床、机器人能否从它那里直接读到有用信息。二是Digital Twin可以直接对设计的“理论值”和加工的“实测值”进行直接比较和分析。三是Digital Twin可用于生产模拟，可以对自动或手工作业进行模拟，包括装配、机器人焊、锻铸和车铣刨磨等。四是Digital Twin是价值网络协作的基础，包括厂际、供应链上下游之间、乃至全球范围的协作企业。

![](assets/4/CPSDTTT2.jpg)

数字孪生体的全生命周期与RAMI4.0相一致。RAMI4.0有一个产品周期的维度，在此维度中，提法与以前略有区别。它分为两个阶段，一个是型号（TYPE）阶段，一个是实例（Instance）阶段，每个阶段有研发、使用和维护等环节。产品的生命周期是从使用开始，要研究客户使用产品，与此同时进行型号（TYPE）的设计，工程、工艺的设计，然后进行工艺仿真，到使用维护的仿真，等有了订单后，再进行定制化，改变TYPE，然后再进行制造、检测、培训、使用，这样构成完整的产品的全生命周期。

因此，数字孪生体是产品全生命周期的数据中心，其本质的提升是实现了单一数据源和阶段间信息贯通。它从概念设计贯通到产品设计、仿真、工艺及后面的使用和维护。

数字孪生体也是全价值链的数据中心。其本质的提升在于无缝协同，而不只是共享信息，如与上下游进行装配的仿真、在客户的“虚拟”使用环境中测试/改进产品等。如发动机制造商可以下游的汽车厂商的环境中，测试自己的发动机产品。这就是一种全价值链的协同。

## 实现方式

数字孪生体的实现方式，分为四步。第一步是3D设计+PMI（Product Manufacturing Information），PMI包括了物理产品的几何尺寸、公差，以及3D注释、表面质地指定、完工要求、工艺注释、材料指定和焊接符号等。第二步，在3D设计+PMI的基础上，实现MBOM（Manufacture BOM，即制造BOM）+BOP（BOM-Bill of Process，即工艺设计清单）。第三步，使用部分则实现Product Memory，即产品档案，包含技术追溯、物料追溯、测量结果等；第四步实现O&S（即Operations and Sustainment，即使用和维护），Operations这里主要是指操作，Sustainment既包括维修、保养，也包括升级和改造。

综上，可以发现DigitalTwin的实现方法有这样几个特点：首先，它主张单一数据源（UnifiedRepository，UR）；其次，三维设计时标注PMI，然后建立BOP，写入产品档案；最后，ProductMemory要能够实现除标准件之外的所有件都可以追溯。这要依靠物流体系的追溯方法。

举例来说，美国F35战斗机的设计与生产，就是采用了融合了Digital Twin的数字纽带技术的方法。它实现了整条供应链的协同，很多厂商在一起协同设计研发，单一数据源是最佳方式。它在生产过程中，所有不同厂商的车床的数据直接从Digital Twin读取。这就是单一数据源的意义，通过统一的数据，实现协同的仿真和分析，上下游可以一起进行仿真和分析。从而提高效率，减少返工。3D数字纽带的数据存储在PDM系统中，世界各地的合作伙伴和供应商都可无缝使用。激光测量借助数字纽带，允许“虚拟工人（virtual mate）”在“物理工人（physical mate）”之前，识别潜在的干扰问题。

## 对智能产品和智能工厂颠覆作用

未来的智能产品，分为两个，一个是实体，一个是实体的数字孪生体。智能可以在产品的实体中，也可以放到数字孪生体上去。实体和孪生体之间，采用物联的手段。在孪生体这边，除了产品档案，更多的是使用/维护的方法，还可以附加更多功能。

孪生体概念出现后，对产品使用有重大颠覆作用。如家电行业中的“智能家”框架体系。消费者买来空调、电饭褒，要想实现即时使用，需要把家电产品的实体和产品的孪生体物联好。它们这间的物联是原生的，其关键是数字孪生体要与智能家的总体框架体系联接。

智能工厂也是这个道理，它首先也要有一个框架体系。这个框架体系内，可以想象有许多插槽，可以接入孪生体机器人或其他孪生体设备，而相应的物理位置也要接入物理设备。这其中，孪生体上在框架体系中的接入是关键，美国正在制订此领域的相关标准。

举例来说，Windows系统可以接入有很多设备，如打印机，打印机是实体，可以通过打印驱动程序操作打印机，这种方法比目前操作数控车床的方法要高明。打印驱动程序就是相当于数字孪生体。

## 与数字纽带的关系

Digital Thread（数字纽带，也译为数字线程、数字主线等）。数字纽带为数字孪生体提供访问（access）、整合（integrate）和转换（transform）能力，其目标是贯通产品生命周期和价值链，实现全面追溯、双向共享/交互信息、价值链协同。由此可见，数字孪生体是对象、数据，而数字纽带是方法、通道、链接、接口。通过数字纽带交换、处理数字孪生体的相关信息。

美国国家标准与技术研究院（NationalInstitute of Standards and Technology，NIST），在进行的Digital Thread for Smart Manufacturing项目，研究聚焦在产品生命周期（特别是工程、制造和质量）之间信息交互的标准和实现。其主要研究内容有：

MBE、PMI有效性和一致性测试（MBE PMI Validation and Conformance Testing）；设计到制造和检测（Designto Manufacturing and Inspection），各CAD→STEP→CAM/CMM；下游CAM和协同测量过程的有效性（Validation for DownstreamComputer-Aided Manufacturing and Coordinate Metrology Processes）；公差标准和相关建模挑战（Tolerancing Standards and AssociatedModeling Challenges）；测试数字纽带（Testing the Digital Thread）。

目前美国实施的是从设计、仿真到制造的贯通，后续的使用阶段尚未实施。

## CPS中的作用

CPS要实现虚实融合。第一层是实体，实体要有智能。实体智能就是第二层的。实体智能向上联接要采用物联的方法，物联就是第三层。物联到实体孪生体（Physical DTwin），这就是第四层，它是类似于驱动程序的一层，实现控制实体和让实体向自己进行信息反馈。实体孪生体（Physical DTwin）之上是第五层，即系统孪生体（System DTwin）。生产线和设备系统不可能分散工作，必须要统一于系统孪生体之下。再上面的第六层是产品孪生体（Product DTwin）。三个孪生体之间用数字纽带联系起来，机器人可以直接使用产品孪生体的控制参数。数控车床可以直接使用数字孪生体里面的数控程序。产品孪生体（Product DTwin）之上是第七层：接口层。这一层的供应商与客户通过产品孪生体（Product DTwin）层与其他层建立关联。

举例来说。若要打印一份纸质文件，需要首先在WORD中编辑好，编辑好之后就已经建立起一份数字形式的文件，这个数字形式就像是孪生体。而纸质文件就是生产出来的产品。打印机则是生产设备，但是操作系统内必须要安装驱动程序。未来的工业4.0就是要实现这样一种非常简单的生产模式。

WORD要想插入新的对象，微软称之为嵌入式OLE技术，利用它，可以在WORD文本内嵌入EXCEL数据。这时会有专门的程序去处理它的显示和打印。将来可以数字纽带技术，实现上下游的协同有类于此。如，汽车制造商在使用发动机提供商的某种型号产品之前，在仿真时，可以直接调用发动机的数据和功能。做模拟时，可以不用发动机制造商的图纸，却能够协作调试。

数字孪生已经不是一个新的概念，那么为什么这两年这么热门？原因是云计算、互联网技术以及人工智能技术的飞速发展使得各自独立的数字孪生得以连通、交互、生长。工业互联网成为了数字孪生的孵化床。物理实体的各种数据收集、交换，都要借助于工业互联网来实现。它将机器、物理环境、基础设施、产品设计都连接到数字孪生上，可以说，工业互联网启发了工程师从“数据”到“模型”的思考，提供了对产品触达的双向通路，实现产品设计从“经验驱动”到“模型驱动”。人工智能的发展也让数字孪生有了“自主”思考力，使得自发从海量数据中提取知识、洞见成为可能。

数字孪生可以是纯粹基于云的资产，因为运行复杂系统的DT需要的计算规模很大并且需要弹性伸缩，但也可根据实际情况，将DT通过云端构建，边缘执行，或是部署在云边一体的混合模型中。很多数据可以在边缘设备上完成分析，而只在必要时将关键数据上传至云端做进一步深入分析，从而减少数据传输，提高响应效率，发挥出IoT平台的云、管、边、端一体化的技术特点。

工业互联网的出现是互联网市场从“消费领域（C端）”到“生产领域（B端）”能力的自然延伸，也体现了国家对于工业发展的长久重视。可以说，国家和国家的竞争，说到底是“生产能力”的竞争，而不是消费能力的竞争。工业互联网就是要服务好工业企业的数字化转型。但需要指出的是，工业互联网是工业数字化发展到一定阶段的高级产品，不能片面地强调“数字的网”的作用，更要加强“数字的体”的建设。反观当下中国形形色色的工业平台厂家多达上百家，非但没有感受到各个平台对制造经济实体的增强作用，反而出现了“平台太多，数据都不够用”的窘况。所以，工业企业切莫将“被联网”作为企业数字化建设的方向，而应该加强“数字的体”的能力，真正实现工业企业的“产品”、“流程”和“资产”数据体的价值。

工业企业的数字化转型会遇到各种困难和挫折，不仅仅遇到技术的困难，还会有各种商业的陷阱和挑战。成为“先驱”和成为“先烈”之间也往往只有一步之遥。需要企业具有卓越的眼光、坚决的执行力、加上强大的生存能力，才能做不被历史淹没，不做前行道路上的无名尸骨。

注：本文转载自https://zhuanlan.zhihu.com/p/56439497